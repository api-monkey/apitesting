<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    @@include('././_head.html', {
        "path": "..",
        "title": ""
    })
    <style>
        .alert-danger {
            padding: 8px;
        }
    </style>
</head>

<body>
    <main>

        @@include('./_preloader.html', {
            "path": ".."
        })

        <!-- Section -->
        <section class="vh-100 bg-soft d-flex align-items-center">
            <div class="container">
                <div class="row justify-content-center form-bg-image" data-background="../assets/img/illustrations/signin.svg">
                    <div class="col-12 d-flex align-items-center justify-content-center">
                        <div class="signin-inner mt-3 mt-lg-0 bg-white shadow-soft border border-light rounded p-4 p-lg-5 w-100 fmxw-500">

                            <th:block th:if="${registered}">
                                <div class="text-center text-md-center mb-4 mt-md-0">
                                    <h1 class="h3 font-weight-bold mb-3">Congratulations!</h1>
                                    <h1 class="h3 font-weight-bold mb-3">You have just registered.</h1>
                                    <a th:href="@{/login}" class="btn btn-primary mt-10">Sign in</a>
                                </div>

                            </th:block>

                            <th:block th:if="${not registered}">

                                <div class="text-center text-md-center mb-4 mt-md-0">
                                    <h1 class="h3 font-weight-bold mb-3">Create an account</h1>
                                </div>
                                <form th:action="@{/sign-up}" th:object="${user}" method="post">
                                    <th:block th:if="${not #strings.isEmpty(errorMessage)}">
                                        <div class="alert alert-danger font-weight-bold">
                                            <p class="m-0">[[${errorMessage}]]</p>
                                        </div>
                                    </th:block>

                                    <div class="form-group">
                                        <th:block th:if="${#fields.hasErrors('firstName')}">
                                            <div class="alert alert-danger font-weight-bold">
                                                <p class="m-0" th:each="error: ${#fields.errors('firstName')}" th:text="${error}">Validation error</p>
                                            </div>
                                        </th:block>
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text"><i class="far fa-address-book"></i></span>
                                            </div>
                                            <input type="text" th:field="*{firstName}"
                                                   class="form-control" id="firstName"
                                                   placeholder="Enter First Name" required>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <th:block th:if="${#fields.hasErrors('lastName')}">
                                            <div class="alert alert-danger font-weight-bold">
                                                <p class="m-0" th:each="error: ${#fields.errors('lastName')}" th:text="${error}">Validation error</p>
                                            </div>
                                        </th:block>
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text"><i class="far fa-address-book"></i></span>
                                            </div>
                                            <input type="text" th:field="*{lastName}"
                                                   class="form-control" id="lastName"
                                                   placeholder="Enter Last Name" required>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <th:block th:if="${#fields.hasErrors('email')}">
                                            <div class="alert alert-danger font-weight-bold">
                                                <p class="m-0" th:each="error: ${#fields.errors('email')}" th:text="${error}">Validation error</p>
                                            </div>
                                        </th:block>
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text"><i class="far fa-user"></i></span>
                                            </div>
                                            <input type="email" th:field="*{email}"
                                                   class="form-control" id="input-email"
                                                   placeholder="Enter email" required>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <th:block th:if="${#fields.hasErrors('password')}">
                                            <div class="alert alert-danger font-weight-bold">
                                                <p class="m-0" th:each="error: ${#fields.errors('password')}" th:text="${error}">Validation error</p>
                                            </div>
                                        </th:block>
                                        <div class="input-group" id="show_hide_password">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text"><i class="fas fa-unlock-alt"></i></span>
                                            </div>
                                            <input class="form-control" placeholder="Password" th:field="*{password}" type="password" required>
                                            <div style="cursor: pointer"  class="input-group-append">
                                                <span class="input-group-text">
                                                    <i class="far fa-eye"></i>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="input-group mt-3">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text"><i class="fas fa-unlock-alt"></i></span>
                                            </div>
                                            <input type="password" class="form-control" th:field="*{matchingPassword}" id="input-password-confirm" placeholder="Confirm password" required>
                                        </div>
                                        <th:block th:if="${not #lists.isEmpty(#fields.globalErrors())}">
                                            <div class="alert alert-danger font-weight-bold mt-3">
                                                <p class="m-0" th:each="error: ${#fields.globalErrors()}" th:text="${error}">Validation error</p>
                                            </div>
                                        </th:block>
                                    </div>
                                    <div class="mt-3">
                                        <button type="submit" class="btn btn-block btn-primary">Sign up</button>
                                    </div>
                                </form>
                                <!--                            <div class="mt-3 mb-4 text-center">-->
                                <!--                                <span class="font-weight-normal">or</span>-->
                                <!--                            </div>-->
                                <!--                            <div class="btn-wrapper my-4 text-center">-->
                                <!--                                <button class="btn mr-2 btn-icon-only btn-pill btn-twitter" type="button">-->
                                <!--                                    <span class="btn-inner-icon"><i class="fab fa-twitter"></i></span>-->
                                <!--                                </button>-->
                                <!--                                <button class="btn mr-2 btn-icon-only btn-pill btn-facebook" type="button">-->
                                <!--                                    <span class="btn-inner-icon"><i class="fab fa-facebook-f"></i></span>-->
                                <!--                                </button>-->
                                <!--                                <button class="btn mr-2 btn-icon-only btn-pill btn-google" type="button">-->
                                <!--                                    <span class="btn-inner-icon"><i class="fab fa-google"></i></span>-->
                                <!--                                </button>-->
                                <!--                            </div>-->
                                <div class="d-block d-sm-flex justify-content-center align-items-center mt-4">
                                <span class="font-weight-normal">
                                    Already have an account?
                                    <a th:href="@{/login}" class="font-weight-bold">Login here</a>
                                </span>
                                </div>

                            </th:block>

                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    @@include('./_scripts.html', {
        "path": ".."
    })
    <script type="text/javascript" th:src="@{/assets/js/sign_in.js}"></script>
    
</body>

</html>
